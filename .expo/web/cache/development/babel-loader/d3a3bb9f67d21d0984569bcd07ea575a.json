{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport Constants from \"../constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Match = function (_React$Component) {\n  _inherits(Match, _React$Component);\n\n  var _super = _createSuper(Match);\n\n  function Match(props) {\n    var _this;\n\n    _classCallCheck(this, Match);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      user: null,\n      match: _this.props.match\n    };\n\n    _this.loadUser();\n\n    return _this;\n  }\n\n  _createClass(Match, [{\n    key: \"loadUser\",\n    value: function loadUser() {\n      var value;\n      return _regeneratorRuntime.async(function loadUser$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user\"));\n\n            case 2:\n              value = _context.sent;\n              if (value != null) this.setState({\n                user: JSON.parse(value)\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"removeUser\",\n    value: function removeUser() {\n      return _regeneratorRuntime.async(function removeUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"user\"));\n\n            case 2:\n              this.setState({\n                user: null\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"removeMatch\",\n    value: function removeMatch() {\n      var _this2 = this;\n\n      var match, requestOptions, response;\n      return _regeneratorRuntime.async(function removeMatch$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              match = this.state.match;\n              match.enabled = false;\n\n              if (!(this.state.user !== null)) {\n                _context3.next = 8;\n                break;\n              }\n\n              requestOptions = {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'access-token': this.state.user.tokenObject.token\n                },\n                body: JSON.stringify(match)\n              };\n              _context3.next = 6;\n              return _regeneratorRuntime.awrap(fetch(Constants.serverIp + Constants.productMicroserviceName + \"matches/edit-match\", requestOptions));\n\n            case 6:\n              response = _context3.sent;\n\n              if (response.ok) {\n                response.json().then(function (obj) {\n                  _this2.setState({\n                    match: match\n                  });\n                });\n              } else {\n                if (response.status === 401) {\n                  this.removeUser();\n                }\n              }\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.match.enabled) {\n        return _jsxs(View, {\n          style: styles.matchRow,\n          children: [_jsxs(View, {\n            style: styles.matchElement,\n            children: [_jsx(Icon, {\n              name: \"user-circle\",\n              size: 25\n            }), _jsx(Text, {\n              style: styles.matchUsernameText,\n              children: this.state.match.username1\n            })]\n          }), _jsx(View, {\n            style: styles.matchElement,\n            children: _jsx(Icon, {\n              name: \"arrow-right\",\n              size: 25\n            })\n          }), _jsxs(View, {\n            style: styles.matchElement,\n            children: [_jsx(Icon, {\n              name: \"user-circle\",\n              size: 25\n            }), _jsx(Text, {\n              style: styles.matchUsernameText,\n              children: this.state.match.username2\n            })]\n          }), _jsx(View, {\n            style: styles.matchElement,\n            children: _jsx(Icon, {\n              name: \"trash\",\n              size: 25,\n              onPress: function onPress() {\n                return _this3.removeMatch();\n              }\n            })\n          })]\n        });\n      } else {\n        return _jsxs(View, {\n          style: styles.matchRowDisabled,\n          children: [_jsxs(View, {\n            style: styles.matchElement,\n            children: [_jsx(Icon, {\n              style: styles.colorDisabled,\n              name: \"user-circle\",\n              size: 25\n            }), _jsx(Text, {\n              style: styles.matchUsernameTextDisabled,\n              children: this.state.match.username1\n            })]\n          }), _jsx(View, {\n            style: styles.matchElement,\n            children: _jsx(Icon, {\n              style: styles.colorDisabled,\n              name: \"arrow-right\",\n              size: 25\n            })\n          }), _jsxs(View, {\n            style: styles.matchElement,\n            children: [_jsx(Icon, {\n              style: styles.colorDisabled,\n              name: \"user-circle\",\n              size: 25\n            }), _jsx(Text, {\n              style: styles.matchUsernameTextDisabled,\n              children: this.state.match.username2\n            })]\n          }), _jsx(View, {\n            style: styles.matchElement\n          })]\n        });\n      }\n    }\n  }]);\n\n  return Match;\n}(React.Component);\n\nexport { Match as default };\nvar styles = StyleSheet.create({\n  matchRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    borderBottomWidth: 1,\n    borderColor: \"black\",\n    paddingTop: \"3%\",\n    paddingBottom: \"3%\"\n  },\n  matchRowDisabled: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    borderBottomWidth: 1,\n    borderColor: \"gray\",\n    color: \"gray\",\n    paddingTop: \"3%\",\n    paddingBottom: \"3%\"\n  },\n  matchElement: {\n    flex: 1,\n    maxWidth: \"25%\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  matchUsernameText: {\n    fontSize: 20,\n    flex: 1,\n    textAlign: \"center\",\n    fontWeight: \"bold\"\n  },\n  colorDisabled: {\n    color: \"gray\"\n  },\n  matchUsernameTextDisabled: {\n    fontSize: 20,\n    flex: 1,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"gray\"\n  }\n});","map":{"version":3,"sources":["D:/UniversityProjects/Taas/Front-End TAAS/Taas-App/components/matchesTab/Match.js"],"names":["React","AsyncStorage","Icon","Constants","Match","props","state","user","match","loadUser","getItem","value","setState","JSON","parse","removeItem","enabled","requestOptions","method","headers","tokenObject","token","body","stringify","fetch","serverIp","productMicroserviceName","response","ok","json","then","obj","status","removeUser","styles","matchRow","matchElement","matchUsernameText","username1","username2","removeMatch","matchRowDisabled","colorDisabled","matchUsernameTextDisabled","Component","StyleSheet","create","display","flexDirection","borderBottomWidth","borderColor","paddingTop","paddingBottom","color","flex","maxWidth","justifyContent","alignItems","fontSize","textAlign","fontWeight"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {AsyncStorage, StyleSheet, Text, View} from 'react-native';\r\nimport Icon from 'react-native-vector-icons/FontAwesome';\r\nimport Constants from \"../constants\";\r\n\r\nexport default class Match extends React.Component{\r\n    async loadUser(){\r\n        const value = await AsyncStorage.getItem(\"user\");\r\n        if(value!=null)\r\n            this.setState({user:JSON.parse(value)})\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={user:null,match:this.props.match}\r\n        this.loadUser();\r\n    }\r\n\r\n    async removeUser(){\r\n        await  AsyncStorage.removeItem(\"user\");\r\n        this.setState({user:null});\r\n    }\r\n\r\n    async removeMatch() {\r\n        let match = this.state.match;\r\n        match.enabled = false;\r\n        if (this.state.user !== null) {\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: {'Content-Type': 'application/json', 'access-token': this.state.user.tokenObject.token,},\r\n                body: JSON.stringify(match)\r\n            };\r\n            const response = await fetch(Constants.serverIp + Constants.productMicroserviceName + \"matches/edit-match\", requestOptions)\r\n            if (response.ok) {\r\n                response.json().then((obj) => {\r\n                    this.setState({match: match})\r\n                })\r\n            } else {\r\n                if(response.status===401){\r\n                    this.removeUser();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        if(this.state.match.enabled){\r\n            return <View style={styles.matchRow}>\r\n                <View style={styles.matchElement}>\r\n                    <Icon name=\"user-circle\" size={25}/>\r\n                    <Text style={styles.matchUsernameText} >{this.state.match.username1}</Text>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                    <Icon name=\"arrow-right\" size={25}/>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                    <Icon name=\"user-circle\" size={25}/>\r\n                    <Text style={styles.matchUsernameText} >{this.state.match.username2}</Text>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                    <Icon name=\"trash\" size={25} onPress={()=>this.removeMatch()}/>\r\n                </View>\r\n            </View>\r\n        }else{\r\n            return <View style={styles.matchRowDisabled}>\r\n                <View style={styles.matchElement}>\r\n                    <Icon style={styles.colorDisabled} name=\"user-circle\" size={25}/>\r\n                    <Text style={styles.matchUsernameTextDisabled} >{this.state.match.username1}</Text>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                    <Icon style={styles.colorDisabled} name=\"arrow-right\" size={25}/>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                    <Icon style={styles.colorDisabled} name=\"user-circle\" size={25}/>\r\n                    <Text style={styles.matchUsernameTextDisabled} >{this.state.match.username2}</Text>\r\n                </View>\r\n                <View style={styles.matchElement}>\r\n                </View>\r\n            </View>\r\n        }\r\n    }\r\n}\r\n\r\nconst styles=StyleSheet.create({\r\n    matchRow:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        borderBottomWidth:1,\r\n        borderColor:\"black\",\r\n        paddingTop:\"3%\",\r\n        paddingBottom:\"3%\",\r\n    },\r\n    matchRowDisabled:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        borderBottomWidth:1,\r\n        borderColor:\"gray\",\r\n        color:\"gray\",\r\n        paddingTop:\"3%\",\r\n        paddingBottom:\"3%\",\r\n    },\r\n    matchElement:{\r\n        flex:1,\r\n        maxWidth: \"25%\",\r\n        display: \"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\"\r\n    },\r\n    matchUsernameText:{\r\n        fontSize: 20,\r\n        flex: 1,\r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n    },\r\n    colorDisabled:{\r\n        color:\"gray\"\r\n    },\r\n    matchUsernameTextDisabled:{\r\n        fontSize: 20,\r\n        flex: 1,\r\n        textAlign: \"center\",\r\n        fontWeight: \"bold\",\r\n        color:\"gray\"\r\n    }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}